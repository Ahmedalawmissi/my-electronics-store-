<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ููุชุฌุงุชูุง</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>๐๏ธ ููุชุฌุงุชูุง</h1>
    <nav>
      <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
      <a href="product.html">ุงูููุชุฌุงุช</a>
      <a href="cart.html"> ุงูุณูุฉ</a>
      <a href="auth.html">ุชุณุฌูู ุงูุฏุฎูู</a>
    </nav>
  </header>
<div class="ahmed"><h1>๐ฑ ูุชุฌุฑ ุฃุญูุฏ ุญุณูู</h1></div>

  <main>
    <section class="categories">
      <button onclick="filterProducts('all')" class="active">ุนุฑุถ ุงููู</button>
      <button onclick="filterProducts('ุณูุงุนุงุช')">ุณูุงุนุงุช</button>
      <button onclick="filterProducts('ููุงุชู')">ููุงุชู</button>
      <button onclick="filterProducts('ุญุงุณูุจ ูุญููู')">ุญุงุณูุจ ูุญููู</button>
      <button onclick="filterProducts('ุณุงุนุงุช')">ุณุงุนุงุช</button>
      <button onclick="filterProducts('ููุญูุงุช')">ููุญูุงุช</button>
    </section>

    <section id="product-list" class="product-grid"></section>
  </main>

  <script src="js/products.js"></script>
  <script>
    const container = document.getElementById("product-list");

    function displayProducts(filteredProducts) {
      container.innerHTML = "";
      filteredProducts.forEach(product => {
        const card = document.createElement("div");
        card.className = "product-card";

        card.innerHTML = `
          <img src="${product.image}" alt="${product.name}">
          <h3>${product.name}</h3>
          <p>${product.description}</p>
          <p><strong>${product.price} ุฑูุงู</strong></p>
          <button onclick="viewDetails(${product.id})">ุชูุงุตูู</button>
          <button onclick="addToCart(${product.id})">๐ ุฃุถู ููุณูุฉ</button>
        `;

        container.appendChild(card);
      });
    }

    function filterProducts(category) {
      document.querySelectorAll('.categories button').forEach(btn => btn.classList.remove('active'));
      if (category === 'all') {
        displayProducts(products);
        document.querySelector('.categories button:first-child').classList.add('active');
      } else {
        const filtered = products.filter(p => p.category === category);
        displayProducts(filtered);
        event.target.classList.add('active');
      }
    }

    function viewDetails(id) {
      localStorage.setItem("selectedProduct", id);
      window.location.href = "product.html?view=detail";
    }

    function addToCart(id) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const existing = cart.find(p => p.id === id);
      if (existing) {
        existing.quantity++;
      } else {
        cart.push({ id, quantity: 1 });
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      alert("ุชูุช ุงูุฅุถุงูุฉ ุฅูู ุงูุณูุฉ!");
    }

    // ุนูุฏ ุงูุชุญูููุ ุนุฑุถ ูู ุงูููุชุฌุงุช
    window.onload = () => {
      displayProducts(products);
    };
  </script>
</body>
</html>
